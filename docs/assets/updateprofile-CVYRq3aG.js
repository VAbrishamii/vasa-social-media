import{d as C}from"./displayLoggedInUser-ByEQsBWe.js";import{b as E}from"./instance-B_Arlp1z.js";function v(){const t=document.createElement("div");t.classList.add("update-profile-container");const n=document.createElement("h2");n.textContent="Update Profile",t.appendChild(n);const e=document.createElement("form");e.id="update-profile-form";const l=document.createElement("label");l.setAttribute("for","bio"),l.textContent="Bio:",e.appendChild(l);const o=document.createElement("textarea");o.id="bio",o.placeholder="Enter your bio...",e.appendChild(o);const i=document.createElement("label");i.setAttribute("for","banner"),i.textContent="Banner URL:",e.appendChild(i);const a=document.createElement("input");a.type="text",a.id="banner",a.placeholder="Enter banner image URL...",e.appendChild(a);const d=document.createElement("label");d.setAttribute("for","avatar"),d.textContent="Avatar URL:",e.appendChild(d);const r=document.createElement("input");r.type="text",r.id="avatar",r.placeholder="Enter avatar image URL...",e.appendChild(r);const p=document.createElement("button");return p.type="submit",p.textContent="Update Profile",e.appendChild(p),t.appendChild(e),e.addEventListener("submit",async function(u){u.preventDefault();const m=o.value.trim(),s=a.value.trim(),f=r.value.trim(),b={bio:m,banner:{url:s||null},avatar:{url:f||null}};try{await E.profile.update(b),alert("Your profile has been updated successfully!"),window.location.href="/post/feed/"}catch(h){console.error("Error updating profile:",h.message),alert("Failed to update profile. Please try again.")}}),t}function c(t){const n=document.querySelector(t);if(n){const e=v();n.innerHTML="",n.appendChild(e)}}c(".profile-update-section");C();c();
