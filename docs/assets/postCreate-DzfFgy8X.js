import{d as i}from"./displayLoggedInUser-ByEQsBWe.js";import{p as l}from"./instance-B_Arlp1z.js";import{a as u}from"./authGuard-DfzkPADv.js";const n=120;function g(t){return t.length>n?t.substring(0,n):t}async function p(t){t.preventDefault();const r=document.getElementById("title").value,s=document.getElementById("body").value,m=document.getElementById("tags").value,a=document.getElementById("media").value,d=document.getElementById("media").value,c=m.split(",").map(o=>o.trim()),e={title:r,body:s,tags:c,media:a?{url:a,alt:d}:null};try{e.media.alt=g(e.media.alt),await l.post.create(e),window.location.href="/post/feed/"}catch(o){console.error(o)}}u();i();const f=document.forms.createPost;f.addEventListener("submit",p);
